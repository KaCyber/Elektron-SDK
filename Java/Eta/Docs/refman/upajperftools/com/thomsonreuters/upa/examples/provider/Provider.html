<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_51) on Fri Sep 16 14:40:52 CDT 2016 -->
<title>Provider (UPAJ API Performance Tools)</title>
<meta name="date" content="2016-09-16">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Provider (UPAJ API Performance Tools)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Provider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/thomsonreuters/upa/examples/provider/MarketPriceItems.html" title="class in com.thomsonreuters.upa.examples.provider"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/thomsonreuters/upa/examples/provider/SymbolListItems.html" title="class in com.thomsonreuters.upa.examples.provider"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/thomsonreuters/upa/examples/provider/Provider.html" target="_top">Frames</a></li>
<li><a href="Provider.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.thomsonreuters.upa.examples.provider</div>
<h2 title="Class Provider" class="title">Class Provider</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.thomsonreuters.upa.examples.provider.Provider</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/thomsonreuters/upa/examples/common/ReceivedMsgCallback.html" title="interface in com.thomsonreuters.upa.examples.common">ReceivedMsgCallback</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Provider</span>
extends java.lang.Object
implements <a href="../../../../../com/thomsonreuters/upa/examples/common/ReceivedMsgCallback.html" title="interface in com.thomsonreuters.upa.examples.common">ReceivedMsgCallback</a></pre>
<div class="block">This is the main class for the UPA Java Provider application. It is a
 single-threaded server application. The application uses either the operating
 parameters entered by the user or a default set of parameters.
 <p>
 The purpose of this application is to interactively provide Level I Market Price, 
 Level II Market By Order, Level II Market By Price, and Symbol List data to 
 one or more consumers. It allowed, it requests dictionary from the adh.
 <p>
 It is a single-threaded server application. First the application initializes 
 the UPA transport and binds the server. If the dictionary files are in the path
 it loads dictionary information from the RDMFieldDictionary and enumtype.def files. 
 Finally, it processes login, source directory, dictionary, market price, 
 market by order, market by price, and symbol list 
 requests from consumers and sends the appropriate responses.
 <p>
 Level II Market By Price refresh messages are sent as multi-part messages. An 
 update message is sent between each part of the multi-part refresh message.
 <p>
 Dictionary requests are supported by this application. If the Login Request
 indicates the presence of the dictionary request feature and the dictionaries are
 not setup on startup, this application sends dictionary requests for both
 field dictionary and enumtype dictionary. The responses to the dictionary requests
 are processed as well.
 <p>
 Batch requests are supported by this application. The login response message 
 indicates that batch support is present. Batch requests are accepted and a stream 
 is opened for each item in the batch request.
 <p>
 Posting requests are supported by this application for items that have already 
 been opened by a consumer. On-stream and off-stream posts are accepted and sent 
 out to any consumer that has the item open. Off-stream posts for items that 
 have not already been opened by a consumer are rejected (in this example). 
 <p>
 Private stream requests are also supported by this application. All items requested 
 with the private stream flag set in the request message result in the private 
 stream flag set in the applicable response messages. If a request is received 
 without the private stream flag set for the item name of "RES-DS", this application 
 redirects the consumer to open the "RES-DS" item on a private stream instead 
 of a normal stream.
 <p>
 Symbol List requests are expected to use a symbol list name of "_UPA_ITEM_LIST". 
 The symbol list name is provided in the source directory response for the consumer 
 to use.
 <p> 
 This class is also a call back for all events from provider. It dispatches
 events to domain specific handlers.
 <p>
 This application is intended as a basic usage example. Some of the design
 choices were made to favor simplicity and readability over performance. It is
 not intended to be used for measuring performance. This application uses
 Value Add and shows how using Value Add simplifies the writing of UPA
 applications. Because Value Add is a layer on top of UPA, you may see a
 slight decrease in performance compared to writing applications directly to
 the UPA interfaces.
 <p>
 <H2>Setup Environment</H2>
 <p>
 The RDMFieldDictionary and enumtype.def files must be located in the
 directory of execution. If not available and adh supports dictionary requests,
 the dictionary is down loaded from adh.
 <p>
 <H2>Running the application:</H2>
 <p>
 Change directory to the <i>Applications/Examples</i> directory and run <i>ant</i> to
 build.
 <p>
 java -cp ./bin;../../Libs/upaValueAdd.jar;../../Libs/upa.jar
 com.thomsonreuters.upa.examples.provider.Provider [-p srvrPortNo] [-id
 Serviceid] [-s serviceName] [-x] [-runtime runTime]
 <p>
 <ul>
 <li>-id Service id. Default is <i>1</i>.
 <li>-p Server port number. Default is <i>14002</i>.
 <li>-s Service name. Default is <i>DIRECT_FEED</i>.
 <li>-x Provides XML tracing of messages.
 <li>-runtime run time. Default is 1200 seconds. Controls the time the
 application will run before exiting, in seconds.
 </ul></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/thomsonreuters/upa/examples/common/ProviderSession.html" title="class in com.thomsonreuters.upa.examples.common"><code>ProviderSession</code></a>, 
<a href="../../../../../com/thomsonreuters/upa/examples/provider/DictionaryHandler.html" title="class in com.thomsonreuters.upa.examples.provider"><code>DictionaryHandler</code></a>, 
<a href="../../../../../com/thomsonreuters/upa/examples/common/ProviderDirectoryHandler.html" title="class in com.thomsonreuters.upa.examples.common"><code>ProviderDirectoryHandler</code></a>, 
<a href="../../../../../com/thomsonreuters/upa/examples/common/ProviderLoginHandler.html" title="class in com.thomsonreuters.upa.examples.common"><code>ProviderLoginHandler</code></a>, 
<a href="../../../../../com/thomsonreuters/upa/examples/provider/ItemHandler.html" title="class in com.thomsonreuters.upa.examples.provider"><code>ItemHandler</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/thomsonreuters/upa/examples/provider/Provider.html#CLIENT_SESSION_INIT_TIMEOUT">CLIENT_SESSION_INIT_TIMEOUT</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/thomsonreuters/upa/examples/provider/Provider.html#Provider--">Provider</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/thomsonreuters/upa/examples/provider/Provider.html#init-java.lang.String:A-">init</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">Parses command line arguments, initializes provider session which creates
 listening socket.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/thomsonreuters/upa/examples/provider/Provider.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/thomsonreuters/upa/examples/provider/Provider.html#processChannelClose-com.thomsonreuters.upa.transport.Channel-">processChannelClose</a></span>(com.thomsonreuters.upa.transport.Channel&nbsp;channel)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/thomsonreuters/upa/examples/provider/Provider.html#processReceivedMsg-com.thomsonreuters.upa.transport.Channel-com.thomsonreuters.upa.transport.TransportBuffer-">processReceivedMsg</a></span>(com.thomsonreuters.upa.transport.Channel&nbsp;channel,
                  com.thomsonreuters.upa.transport.TransportBuffer&nbsp;msgBuf)</code>
<div class="block">Call back for socket read for client messages.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/thomsonreuters/upa/examples/provider/Provider.html#run--">run</a></span>()</code>
<div class="block">Main loop polls socket events from server socket.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="CLIENT_SESSION_INIT_TIMEOUT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CLIENT_SESSION_INIT_TIMEOUT</h4>
<pre>public static final&nbsp;int CLIENT_SESSION_INIT_TIMEOUT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.thomsonreuters.upa.examples.provider.Provider.CLIENT_SESSION_INIT_TIMEOUT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Provider--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Provider</h4>
<pre>public&nbsp;Provider()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
</li>
</ul>
<a name="init-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(java.lang.String[]&nbsp;args)</pre>
<div class="block">Parses command line arguments, initializes provider session which creates
 listening socket. It also initializes Login, Directory, Dictionary and
 Item Handlers.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - - command line arguments</dd>
</dl>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">Main loop polls socket events from server socket. Accepts new client
 connections and reads requests from already established client
 connection. Checks for runtime expiration. If there is no activity on the
 socket, periodically sends item updates to connected client sessions that
 has requested market price items.</div>
</li>
</ul>
<a name="processReceivedMsg-com.thomsonreuters.upa.transport.Channel-com.thomsonreuters.upa.transport.TransportBuffer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processReceivedMsg</h4>
<pre>public&nbsp;void&nbsp;processReceivedMsg(com.thomsonreuters.upa.transport.Channel&nbsp;channel,
                               com.thomsonreuters.upa.transport.TransportBuffer&nbsp;msgBuf)</pre>
<div class="block">Call back for socket read for client messages.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/thomsonreuters/upa/examples/common/ReceivedMsgCallback.html#processReceivedMsg-com.thomsonreuters.upa.transport.Channel-com.thomsonreuters.upa.transport.TransportBuffer-">processReceivedMsg</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/thomsonreuters/upa/examples/common/ReceivedMsgCallback.html" title="interface in com.thomsonreuters.upa.examples.common">ReceivedMsgCallback</a></code></dd>
</dl>
</li>
</ul>
<a name="processChannelClose-com.thomsonreuters.upa.transport.Channel-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>processChannelClose</h4>
<pre>public&nbsp;void&nbsp;processChannelClose(com.thomsonreuters.upa.transport.Channel&nbsp;channel)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/thomsonreuters/upa/examples/common/ReceivedMsgCallback.html#processChannelClose-com.thomsonreuters.upa.transport.Channel-">processChannelClose</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/thomsonreuters/upa/examples/common/ReceivedMsgCallback.html" title="interface in com.thomsonreuters.upa.examples.common">ReceivedMsgCallback</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Provider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/thomsonreuters/upa/examples/provider/MarketPriceItems.html" title="class in com.thomsonreuters.upa.examples.provider"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/thomsonreuters/upa/examples/provider/SymbolListItems.html" title="class in com.thomsonreuters.upa.examples.provider"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/thomsonreuters/upa/examples/provider/Provider.html" target="_top">Frames</a></li>
<li><a href="Provider.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
<i>Copyright &#169; 2016  Thomson Reuters. All Rights Reserved.</i></small></p>
</body>
</html>
