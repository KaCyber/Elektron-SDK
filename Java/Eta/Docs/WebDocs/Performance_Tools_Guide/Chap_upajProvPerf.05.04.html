<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>5.3 Provider Lifecycle</title>
    <link rel="StyleSheet" href="css/Chap_upajProvPerf.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55718642-4', 'auto');
  ga('send', 'pageview');

</script>
  </head>
  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <table width="100%" align="left" role="presentation">
      <tr>
        <td class="WebWorks_Company_Name_Top" width="250">
          <div id="boxC">Transport API Java Edition</div>
        </td>
        <td width="30">
          <div id="boxB"></div>
        </td>
        <td width="*"></td>
        <td class="WebWorks_Company_Logo_Top" width="160">
          <div id="boxA">
            <img align="left" src="banner_logo.gif" alt="Transport API Java Edition" />
          </div>
        </td>
      </tr>
    </table>
    <br clear="all" />
    <hr align="left" />
    <blockquote>
      <div class="H2"><a name="1222795">Provider Lifecycle</a></div>
      <div class="Body"><a name="1230703">The lifecycle of </a><span class="ToolOrUtility_Name">upajProvPerf</span> is divided into the following sections:</div>
      <div class="Body" style="color: #000000; font-family: &quot;Times New Roman&quot;; font-size: 12.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 8.0pt; margin-top: 8.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Times New Roman&quot;; font-size: 12.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1230707"><img class="Default" src="images/Chap_upajProvPerf.05.04.1.jpg" width="505" height="230" style="display: inline; float: none; left: 0.0; top: 0.0" alt="" /></a></span></div>
      <div class="FigTitle">Figure 12.  <a name="1230711">upajProvPerf Lifecycle</a></div>
      <div class="Step1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Step1_inner" style="width: 18pt; white-space: nowrap">
                <span class="Bold">1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Step1_inner"><a name="1230715">Application and Transport API Initialization.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="indent_25"><span class="ToolOrUtility_Name"><a name="1230722">upajProvPerf</a></span> loads its configuration, initializes the Transport API, loads its dictionary and sample message data using specified files, and starts one or more threads (as configured) to provide data to consumers.</div>
      <div class="indent_25"><a name="1230723">The main thread has two roles:</a></div>
      <div class="bullet_ind_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="bullet_ind_inner" style="width: 18pt; white-space: nowrap">
                <span class="AG_bold">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="bullet_ind_inner"><a name="1230724">Accept consumer connections and pass them to one of the provider threads.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bullet_ind_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="bullet_ind_inner" style="width: 18pt; white-space: nowrap">
                <span class="AG_bold">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="bullet_ind_inner"><a name="1230725">Periodically collect and write statistics from the connection thread(s) until the test is over.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Stepnext_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Stepnext_inner" style="width: 18pt; white-space: nowrap">
                <span class="Bold">2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Stepnext_inner"><a name="1230726">Handle Login, Directory, and Item Requests; Provide Updates.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="indent_25"><a name="1230727">The provider thread performs the following actions continually until its run time expires:</a></div>
      <div class="bullet_ind_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="bullet_ind_inner" style="width: 18pt; white-space: nowrap">
                <span class="AG_bold">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="bullet_ind_inner"><a name="1230728">Add new connections passed from the main thread.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bullet_ind_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="bullet_ind_inner" style="width: 18pt; white-space: nowrap">
                <span class="AG_bold">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="bullet_ind_inner"><a name="1230729">Send a burst of updates for items currently open on existing connections.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bullet_ind_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="bullet_ind_inner" style="width: 18pt; white-space: nowrap">
                <span class="AG_bold">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="bullet_ind_inner"><a name="1230730">Send a burst of generic messages (if configured to do so). </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bullet_ind_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="bullet_ind_inner" style="width: 18pt; white-space: nowrap">
                <span class="AG_bold">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="bullet_ind_inner"><a name="1230731">Use available spare time to provide images for items that need them.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bullet_ind_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="bullet_ind_inner" style="width: 18pt; white-space: nowrap">
                <span class="AG_bold">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="bullet_ind_inner"><a name="1230732">Use available spare time to read from the transport, processing any Login, Directory, or Item requests.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Stepnext_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Stepnext_inner" style="width: 18pt; white-space: nowrap">
                <span class="Bold">3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Stepnext_inner"><a name="1230733">Shutdown and cleanup.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="indent_25"><a name="1230734">The provider thread stops. The main thread collects any remaining data from the connection threads, cleans them up, and writes the final summary statistics. The main thread then cleans up the Transport API and remaining resources, and exits.</a></div>
      <div class="indent_25"><span class="ToolOrUtility_Name"><a name="1230741">upajProvPerf</a></span> should run long enough to allow connected consumers to complete their measurements.</div>
      <div class="Body" style="color: #000000; font-family: &quot;Times New Roman&quot;; font-size: 12.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 8.0pt; margin-top: 8.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Times New Roman&quot;; font-size: 12.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1230745"><img class="Default" src="images/Chap_upajProvPerf.05.04.2.jpg" width="266" height="356" style="display: inline; float: none; left: 0.0; top: 0.0" alt="" /></a></span></div>
      <div class="FigTitle">Figure 13.  <a name="1230749">upajProvPerf Application Flow</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <hr align="left" />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="Chap_upajProvPerf.05.01.html">Chapter 5	upajProvPerf</a> : 5.3	Provider Lifecycle</div>
    <br />
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>