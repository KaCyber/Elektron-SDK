<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>8.4 Consumer Posting on the TREP</title>
    <link rel="StyleSheet" href="css/Chap_Perf_Measurement.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55718642-4', 'auto');
  ga('send', 'pageview');

</script>
  </head>
  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <table width="100%" align="left" role="presentation">
      <tr>
        <td class="WebWorks_Company_Name_Top" width="250">
          <div id="boxC">Transport API Java Edition</div>
        </td>
        <td width="30">
          <div id="boxB"></div>
        </td>
        <td width="*"></td>
        <td class="WebWorks_Company_Logo_Top" width="160">
          <div id="boxA">
            <img align="left" src="banner_logo.gif" alt="Transport API Java Edition" />
          </div>
        </td>
      </tr>
    </table>
    <br clear="all" />
    <hr align="left" />
    <blockquote>
      <div class="H2"><a name="1223486">Consumer Posting on the TREP</a></div>
      <div class="Body"><a name="1228325">To measure posting performance on the TREP, connect the </a><span class="ToolOrUtility_Name">upajConsPerf</span> to an ADS, the ADS to an ADH,<sup><a name="wwfootnote_inline_70" href="#70">1</a></sup> and finally the <span class="ToolOrUtility_Name">upajNIProvPerf</span> to the ADH. The ADH must have caching enabled, because it acts as the cache of record in this scenario. As the posted messages return from the TREP, the consumer can distinguish them via the presence of their <span class="Parameter">PostUserInfo</span>. When configured to do so, <span class="ToolOrUtility_Name">upajConsPerf</span> embeds timestamps in some of its posts which it uses to measure round-trip latency.</div>
      <div class="Body" style="color: #000000; font-family: &quot;Times New Roman&quot;; font-size: 12.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 8.0pt; margin-top: 8.0pt; text-transform: none; vertical-align: baseline"><a name="1228341"><img class="Default" src="images/Chap_Perf_Measurement.08.5.1.jpg" width="423" height="285" style="display: inline; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
      <div class="FigTitle">Figure 21.  <a name="1228349">Consumer Posting to TREP</a></div>
      <div class="Body"><a name="1228353">In this case, </a><span class="ToolOrUtility_Name">upajNIProvPerf</span> provides service and items. Update traffic is optional. If you want to test posting without updates, configure <span class="ToolOrUtility_Name">upajNIProvPerf</span> by specifying <span class="CodeOrCommand">-updateRate 0 -latencyUpdateRate 0</span> in the command line. </div>
      <div class="Body"><a name="1228360">Additionally, if you want only posting traffic, you do not need to run a provider application. You can configure the TREP to provide the necessary service information and refresh content. For more details on this configuration, refer to the </a><span class="DocumentTitle">ADH Software Installation Manual</span>.</div>
      <div class="Procedure_Heading"><a name="1228364"><img class="Default" src="images/Chap_Perf_Measurement.08.5.2.jpg" width="14" height="16" style="display: inline; float: none; left: 0.0; top: 0.0" alt="" /> To run a basic performance measurement:</a></div>
      <div class="Body"><a name="1228371">To run a basic performance measurement using a setup like the one pictured in </a><a href="javascript:WWHClickedPopup('Performance_Tools_Guide', 'Chap_Perf_Measurement.08.5.html#1228349', '');" title="8.4 Consumer Posting on the TREP">Figure 21</a>, run <span class="ToolOrUtility_Name">upajNIProvPerf</span> and <span class="ToolOrUtility_Name">upajConsPerf</span> as follows:<sup><a name="wwfootnote_inline_71" href="#71">2</a></sup></div>
      <div class="Blank_Line"><a name="1228403">&nbsp;</a></div>
      <table class="Commands" style="width: 554.95152pt" cellspacing="0" summary="">
        <caption></caption>
        <tr style="vertical-align: top">
          <td style="background-color: #FFF4E4; padding-bottom: 2pt; padding-left: 2pt; padding-right: 6pt; padding-top: 2pt; vertical-align: top; width: 554.95152pt">
            <div class="command"><a name="1228380">&nbsp;</a></div>
          </td>
        </tr>
        <tr style="vertical-align: top">
          <td style="background-color: #FFF4E4; padding-bottom: 2pt; padding-left: 2pt; padding-right: 6pt; padding-top: 2pt; vertical-align: top">
            <div class="command"><a name="1228387">java com.thomsonreuters.upa.perftools.upajniprovperf.upajNIProvPerf -h adhhost -p 14003 -serviceName </a></div>
          </td>
        </tr>
        <tr style="vertical-align: top">
          <td style="background-color: #FFF4E4; padding-bottom: 2pt; padding-left: 2pt; padding-right: 6pt; padding-top: 2pt; vertical-align: top">
            <div class="command"><a name="1228389">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TEST_FEED</a></div>
          </td>
        </tr>
        <tr style="vertical-align: top">
          <td style="background-color: #FFF4E4; padding-bottom: 2pt; padding-left: 2pt; padding-right: 6pt; padding-top: 2pt; vertical-align: top">
            <div class="command"><a name="1228391">&nbsp;</a></div>
          </td>
        </tr>
        <tr style="vertical-align: top">
          <td style="background-color: #FFF4E4; padding-bottom: 2pt; padding-left: 2pt; padding-right: 6pt; padding-top: 2pt; vertical-align: top">
            <div class="command"><a name="1228398">java com.thomsonreuters.upa.perftools.upajconsperf.upajConsPerf -h adshost -p 14002 -serviceName </a></div>
          </td>
        </tr>
        <tr style="vertical-align: top">
          <td style="background-color: #FFF4E4; padding-bottom: 2pt; padding-left: 2pt; padding-right: 6pt; padding-top: 2pt; vertical-align: top">
            <div class="command"><a name="1228400">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TEST_FEED -postingRate 10000 -postingLatencyRate 10</a></div>
          </td>
        </tr>
        <tr style="vertical-align: top">
          <td style="background-color: #FFF4E4; padding-bottom: 2pt; padding-left: 2pt; padding-right: 6pt; padding-top: 2pt; vertical-align: top">
            <div class="command"><a name="1228402">&nbsp;</a></div>
          </td>
        </tr>
      </table>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
      <hr />
      <div style="font-size: smaller; float: left; padding-right: 10px;">
        <a name="70" href="#wwfootnote_inline_70">1</a>
      </div>
      <div class="Footnote"><a name="1228324">Via the RRCP backbone.</a></div>
      <br style="clear: both;" />
      <div style="font-size: smaller; float: left; padding-right: 10px;">
        <a name="71" href="#wwfootnote_inline_71">2</a>
      </div>
      <div class="Footnote"><a name="1228377">These options assume TEST_FEED is the service being provided. Modify the example values as necessary.</a></div>
      <br style="clear: both;" />
    </blockquote>
    <hr align="left" />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="Chap_Perf_Measurement.08.1.html">Chapter 8	Performance Measurement Scenarios</a> : 8.4	Consumer Posting on the TREP</div>
    <br />
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>