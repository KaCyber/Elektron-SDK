<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>10.2.2 The Encode Iterator: EncodeIterator</title>
    <link rel="StyleSheet" href="css/Chap_EncodingDecoding.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55718642-4', 'auto');
  ga('send', 'pageview');

</script>
  </head>
  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <table width="100%" align="left" role="presentation">
      <tr>
        <td class="WebWorks_Company_Name_Top" width="250">
          <div id="boxC">Transport API Java Edition</div>
        </td>
        <td width="30">
          <div id="boxB"></div>
        </td>
        <td width="*"></td>
        <td class="WebWorks_Company_Logo_Top" width="160">
          <div id="boxA">
            <img align="left" src="banner_logo.gif" alt="Transport API Java Edition" />
          </div>
        </td>
      </tr>
    </table>
    <br clear="all" />
    <hr align="left" />
    <blockquote>
      <div class="H3"><a name="1002069">The Encode Iterator: EncodeIterator</a></div>
      <div class="Body"><a name="1038187">To encode content you must use an </a><span class="CodeOrCommand">EncodeIterator</span> and can use a single encode iterator to manage the entire encoding process<sup><a name="wwfootnote_inline_58" href="#58">1</a></sup> (including state and position information).</div>
      <div class="Body"><a name="1038197">For example, if you want to encode a message that contains an </a><span class="CodeOrCommand">FieldList</span> composed of various primitive types, you can use the same <span class="CodeOrCommand">EncodeIterator</span> to encode all contents. In this case, initialize the iterator before encoding the message, and then pass the iterator as a parameter when encoding each portion. You do not need to perform additional initialization or clearing. When encoding finishes, you can determine the total encoded length and clear the iterator, reusing it for another encoding. If needed, you can use individual iterators for each level of encoding or for pre-encoding portions of data. However, when using separate iterators, you must initialize each iterator before starting the associated encoding process.</div>
      <div class="Body"><a name="1038204">Initialization of an </a><span class="CodeOrCommand">EncodeIterator</span> consists of several steps. Create an <span class="CodeOrCommand">EncodeIterator</span> by calling the <span class="CodeOrCommand">CodecFactory.createEncodeIterator</span> method. After creating the iterator, clear it using the <span class="CodeOrCommand">EncodeIterator.clear</span> method. Each <span class="CodeOrCommand">EncodeIterator</span> requires a <span class="CodeOrCommand">TransportBuffer</span> (into which it encodes) and the RWF version information (to ensure that the proper version of the wire format is encoded). Use the <span class="CodeOrCommand">EncodeIterator.setBufferAndRWFVersion</span> method to set the <span class="CodeOrCommand">TransportBuffer</span> and RWF version (refer to <a href="javascript:WWHClickedPopup('Developer_Guide', 'Chap_EncodingDecoding.10.18.html', '');" title="10.5.1 Protocol Versioning">Section 10.5.1</a>).</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
      <hr />
      <div style="font-size: smaller; float: left; padding-right: 10px;">
        <a name="58" href="#wwfootnote_inline_58">1</a>
      </div>
      <div class="Footnote"><a name="1038193">A single </a><span class="LucidaConsole">EncodeIterator</span> can support up to sixteen levels of nesting, allowing for sixteen <span class="LucidaConsole">Init</span> calls without a single <span class="LucidaConsole">Complete</span> call. Because the most complex RDM currently requires only five levels, sixteen is believed to be sufficient. Should an encoding require more than sixteen levels of nesting, multiple iterators can be used.</div>
      <br style="clear: both;" />
    </blockquote>
    <hr align="left" />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="Chap_EncodingDecoding.10.01.html">Chapter 10	Encoding and Decoding Conventions</a> : <a class="WebWorks_Breadcrumb_Link" href="Chap_EncodingDecoding.10.05.html">10.2	Encoding Semantics</a> : 10.2.2	The Encode Iterator: EncodeIterator</div>
    <br />
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>